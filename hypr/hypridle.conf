general {
    lock_cmd = pidof hyprlock || hyprlock
    after_sleep_cmd = pkill -x quickshell; sleep 2; HYPRLAND_INSTANCE_SIGNATURE=$HYPRLAND_INSTANCE_SIGNATURE quickshell &
}

# Lock after 10 minutes
listener {
    timeout = 600
    on-timeout = loginctl lock-session
}

# Monitors off after 15 minutes
listener {
    timeout = 900
    on-timeout = ~/.local/bin/save-float-positions save && hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on && sleep 0.5 && ~/.local/bin/save-float-positions restore
}

# RGB off with monitors, restore on resume
listener {
    timeout = 900
    on-timeout = ~/.local/bin/rgb-off
    on-resume = ~/.local/bin/rgb-on
}
